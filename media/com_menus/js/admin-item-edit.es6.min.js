(a=>{'use strict';a.submitbutton=(b,c)=>{if("item.setType"===b||"item.setMenuType"===b){if("item.setType"===b){const a=[].slice.call(document.querySelectorAll("#item-form input[name=\"jform[type]\"]"));a.forEach(a=>{a.value=c}),document.getElementById("fieldtype").value="type"}else{const a=[].slice.call(document.querySelectorAll("#item-form input[name=\"jform[menutype]\"]"));a.forEach(a=>{a.value=c})}a.submitform("item.setType",document.getElementById("item-form"))}else if("item.cancel"===b||document.formvalidator.isValid(document.getElementById("item-form")))a.submitform(b,document.getElementById("item-form"));else{const a=[].slice.call(document.querySelectorAll("#item-form .modal-value.invalid"));a.forEach(a=>{const b=a.getAttribute("id").split("").reverse().join(""),c=b.indexOf("_"),d=`${b.substr(c).split("").reverse().join("")}name`;document.getElementById(d).classList.add("invalid")})}};const b=b=>{const c=b.target.value;a.request({url:`index.php?option=com_menus&task=item.getParentItem&menutype=${c}`,headers:{"Content-Type":"application/json"},onSuccess(a){const b=JSON.parse(a),c=[].slice.call(document.querySelectorAll("#jform_parent_id option"));c.forEach(a=>{"1"!==a.value&&a.parentNode.removeChild(a)}),b.forEach(a=>{const b=document.createElement("option");b.innerText=a.title,b.id=a.id,document.getElementById("jform_parent_id").appendChild(b)});const d=document.createEvent("HTMLEvents");d.initEvent("change",!0,!1),document.getElementById("jform_parent_id").dispatchEvent(d)},onError:b=>{a.renderMessages(a.ajaxErrorsMessages(b))}})},c=()=>{if(!a||"function"!=typeof a.request)throw new Error("core.js was not properly initialised");const d=document.getElementById("jform_menutype");d&&d.addEventListener("change",b),document.removeEventListener("DOMContentLoaded",c)};document.addEventListener("DOMContentLoaded",c)})(Joomla);