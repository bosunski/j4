(function(a,b,c){'use strict';c.SampleData={inProgress:!1},c.sampledataAjax=function(a,d,e){var f=c.getOptions("sample-data"),g=b.createElement("li");g.classList.add("sampledata-steps-".concat(a,"-").concat(e));var h=b.createElement("p");h.classList.add("loader-image"),h.classList.add("text-center");var i=b.createElement("img");i.setAttribute("src",f.icon),i.setAttribute("width",30),i.setAttribute("height",30),h.appendChild(i),g.appendChild(h),b.querySelector(".sampledata-progress-".concat(a," ul")).appendChild(g),c.request({url:"".concat("index.php?option=com_ajax&format=json&group=sampledata","&type=").concat(a,"&plugin=SampledataApplyStep").concat(e,"&step=").concat(e),method:"GET",perform:!0,onSuccess:function l(f){var h,i=JSON.parse(f),j="",k=g.querySelector(".loader-image");if(k.parentNode.removeChild(k),i.success&&i.data&&0<i.data.length){var m=b.querySelector(".sampledata-progress-".concat(a," .progress-bar"));if(i.data.forEach(function(b){null===b||(h=b.success,j=h?"bg-success":"bg-danger",h?c.renderMessages({message:[b.message]},".sampledata-steps-".concat(a,"-").concat(e)):c.renderMessages({error:[b.message]},".sampledata-steps-".concat(a,"-").concat(e)))}),m.innerText="".concat(e,"/").concat(d),m.style.width="".concat(100*(e/d),"%"),m.setAttribute("aria-valuemin",0),m.setAttribute("aria-valuemax",100),m.setAttribute("aria-valuenow",100*(e/d)),m.classList.add(j),h&&e<=d){var n=e+1;n<=d&&c.sampledataAjax(a,d,n)}}else c.renderMessages({error:[c.JText._("MOD_SAMPLEDATA_INVALID_RESPONSE")]},".sampledata-steps-".concat(a,"-").concat(e)),c.SampleData.inProgress=!1},onError:function a(){alert("Something went wrong! Please close and reopen the browser and try again!")}})},c.sampledataApply=function(d){var e=d.getAttribute("data-type"),f=d.getAttribute("data-steps");if(!c.SampleData.inProgress){if(d.getAttribute("data-processed"))return void alert(c.JText._("MOD_SAMPLEDATA_ITEM_ALREADY_PROCESSED"));if(!a.confirm(c.JText._("MOD_SAMPLEDATA_CONFIRM_START")))return!1;var g=[].slice.call(b.querySelectorAll(".sampledata-progress-".concat(e)));return g.forEach(function(a){a.classList.remove("d-none")}),d.getAttribute("data-processed",!0),c.SampleData.inProgress=!0,c.sampledataAjax(e,f,1),!1}};var d=function(){var a=b.getElementById("sample-data-wrapper");if(a){var e=[].slice.call(a.querySelectorAll(".apply-sample-data"));e.forEach(function(a){a.addEventListener("click",function(a){return c.sampledataApply(a.target)})})}b.removeEventListener("DOMContentLoaded",d)};b.addEventListener("DOMContentLoaded",d)})(window,document,window.Joomla);