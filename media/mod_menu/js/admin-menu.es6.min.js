((a,b)=>{'use strict';a.localStorageEnabled=()=>{const a="joomla-cms";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return!1}},new window.MetisMenu("#menu");const c=(a,c)=>{let d,e;for(["matches","msMatchesSelector"].some(a=>"function"==typeof b.body[a]&&(d=a,!0));a;){if(e=a.parentElement,e&&e[d](c))return e;a=e}return null},d=b.getElementById("wrapper"),e=b.getElementById("sidebar-wrapper"),f=b.getElementById("menu-collapse-icon");if(a.localStorageEnabled()){const a=localStorage.getItem("atum-sidebar");"open"===a||null===a?(d.classList.remove("closed"),f.classList.remove("fa-toggle-off"),f.classList.add("fa-toggle-on"),localStorage.setItem("atum-sidebar","open")):(d.classList.add("closed"),f.classList.remove("fa-toggle-on"),f.classList.add("fa-toggle-off"),localStorage.setItem("atum-sidebar","closed"))}if(e||d.classList.remove("closed"),e&&!e.getAttribute("data-hidden")){const g=b.getElementById("menu-collapse"),h=[].slice.call(e.querySelectorAll(".collapse-level-1"));h.forEach(a=>{const b=[].slice.call(a.querySelectorAll(".collapse-level-1"));b.forEach(a=>{a&&(a.classList.remove("collapse-level-1"),a.classList.add("collapse-level-2"))})});g.addEventListener("click",()=>{d.classList.toggle("closed"),f.classList.toggle("fa-toggle-on"),f.classList.toggle("fa-toggle-off");const c=[].slice.call(b.querySelectorAll(".main-nav > li"));c.forEach(a=>{a.classList.remove("open")});const e=b.querySelector(".child-open");e&&e.classList.remove("child-open"),a.localStorageEnabled()&&(d.classList.contains("closed")?localStorage.setItem("atum-sidebar","closed"):localStorage.setItem("atum-sidebar","open"))});const i=[].slice.call(d.querySelectorAll("a.no-dropdown, a.collapse-arrow")),j=window.location.href.toLowerCase(),k=b.getElementById("menu"),l=[].slice.call(k.querySelectorAll("li.parent > a")),m=[].slice.call(k.querySelectorAll("li.parent .close"));i.forEach(a=>{if(j===a.href&&(a.classList.add("active"),!a.parentNode.classList.contains("parent"))){const b=c(a,".collapse-level-1"),d=c(a,".collapse-level-2");b&&b.parentNode.classList.add("active"),b&&b.classList.add("in"),d&&d.parentNode.classList.add("active"),d&&d.classList.add("in")}});const n=a=>{let b=a.currentTarget.parentNode;if("span"===b.tagName.toLowerCase()&&(b=a.currentTarget.parentNode.parentNode),b.classList.contains("open"))k.classList.remove("child-open"),b.classList.remove("open");else{const a=[].slice.call(b.parentNode.children);a.forEach(a=>{a.classList.remove("open")}),d.classList.remove("closed"),k.classList.add("child-open"),b.parentNode.classList.contains("main-nav")&&b.classList.add("open")}};l.forEach(a=>{a.addEventListener("click",n),a.addEventListener("keyup",n)}),m.forEach(a=>{a.addEventListener("click",()=>{const a=[].slice.call(k.querySelectorAll(".open"));a.forEach(a=>{a.classList.remove("open")}),k.classList.remove("child-open")})});const o=[].slice.call(e.querySelectorAll("ul[role=\"menubar\"] li"));o.forEach(a=>{a.addEventListener("keyup",a=>{(32===a.keyCode||13===a.keyCode)&&a.target.querySelector("a").click()})}),a.localStorageEnabled()&&"true"===localStorage.getItem("adminMenuState")&&(()=>{e.querySelector(".collapse").classList.remove("in")})()}})(window.Joomla,document);